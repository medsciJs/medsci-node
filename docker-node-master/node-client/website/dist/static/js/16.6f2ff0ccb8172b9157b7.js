webpackJsonp([16],{"/t6J":function(e,t,a){"use strict";t.g=function(e){return Object(n.a)({url:"/api1/sysRoles/getSysRoles",method:"post",data:e})},t.b=function(e){return Object(n.a)({url:"/api1/sysRoles/addSysRoles",method:"post",data:e})},t.h=function(e){return Object(n.a)({url:"/api1/sysRoles/getSysRolesById",method:"post",data:e})},t.i=function(e){return Object(n.a)({url:"/api1/sysRoles/updateSysRoles",method:"post",data:e})},t.c=function(e){return Object(n.a)({url:"/api1/sysRoles/delSysRoles",method:"post",data:e})},t.e=function(e){return Object(n.a)({url:"/api1/user/getUsersIdByRoleId",method:"post",data:e})},t.f=function(e){return Object(n.a)({url:"/api1/sysRoles/getRolesByCode/"+e,method:"get"})},t.d=function(e){return Object(n.a)({url:"/api1/roleMenu/getRoleMenuById",method:"post",data:e})},t.a=function(e){return Object(n.a)({url:"/api1/roleMenu/addRoleMenu",method:"post",data:e})};var n=a("vLgD")},"7Ehp":function(e,t,a){var n=a("mNXp");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("2f982884",n,!0)},bUp0:function(e,t,a){"use strict";t.a=function(e){return Object(n.a)({url:"api1/menu/addSysMenu",method:"post",data:e})},t.c=function(e){return Object(n.a)({url:"api1/menu/getMenuByName",method:"post",data:e})},t.b=function(e){return Object(n.a)({url:"api1/menu/deleteMenuById",method:"post",data:e})},t.d=function(e){return Object(n.a)({url:"api1/menu/getMenuInfoById",method:"post",data:e})},t.e=function(e){return Object(n.a)({url:"api1/menu/updateMenuById",method:"post",data:e})};var n=a("vLgD")},mNXp:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.pre-ipt[data-v-1043102a] {\n  padding: 20px 10px;\n  background: #eef1f6;\n}\n.el-input[data-v-1043102a] {\n  width: 68%;\n}\nb[data-v-1043102a] {\n  color: #32c5d2 !important;\n  font-size: 14px;\n}\n",""])},qH4j:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("/t6J"),s=a("bUp0"),o={created:function(){this.id=this.$route.query.id,this.getList()},methods:{getList:function(){var e=this;this.search.roleCode="pv001";this.search;Object(s.c)(this.parameter).then(function(t){e.data2=t.body,e.getRoleList()})},getCheckedNodes:function(){var e=this,t=this.$refs.tree.getCheckedNodes().map(function(t){return{companyId:e.search.companyId,userId:e.search.userId,projectId:e.search.projectId,menuCode:t.menuCode,roleCode:e.id}});Object(n.a)(t).then(function(t){e.$message({message:"角色权限新增成功",type:"success"}),e.$router.push({path:"/roles/index"})})},getCheckedKeys:function(){this.$router.push({path:"/roles/index"})},setCheckedNodes:function(){this.$refs.tree.setCheckedNodes([{id:5,label:"二级 2-1"},{id:9,label:"三级 1-1-1"}])},setCheckedKeys:function(){this.$refs.tree.setCheckedKeys([3])},resetChecked:function(){this.$refs.tree.setCheckedKeys([])},getRoleList:function(){var e=this,t={companyId:62,userId:1,projectId:13,roleCode:this.id};Object(n.d)(t).then(function(t){e.$refs.tree.setCheckedNodes(t.body)})}},data:function(){return{id:"",search:{companyId:62,userId:2,projectId:13,roleCode:""},data1:!0,parameter:{pageIndex:1,pageSize:10,companyId:"1",userId:"1",projectId:"1",menuChineseName:""},data2:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}],defaultProps:{children:"children",label:"label"}}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("section",{staticStyle:{position:"relative"}},[a("el-tree",{ref:"tree",attrs:{data:e.data2,"show-checkbox":"","default-expand-all":"","node-key":"menuCode","check-strictly":e.data1,"highlight-current":"",props:e.defaultProps}}),e._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"80px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.getCheckedNodes}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.getCheckedKeys}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:e.resetChecked}},[e._v("清空")])],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(o,d,!1,function(e){a("7Ehp")},"data-v-1043102a",null);t.default=r.exports}});