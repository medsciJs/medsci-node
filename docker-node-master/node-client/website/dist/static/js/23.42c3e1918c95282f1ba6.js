webpackJsonp([23],{J7BL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("woOf"),l=a.n(n),r=a("8obM"),s={mixins:[a("is1l").a],data:function(){return{search:{senderIdentity:"",senderName:"",senderType:"",senderOrganisation:"",companyId:62,projectId:1,pageIndex:1,pageSize:10},total:10,tableData:[],loading:!1,senderType:[{label:"制药公司",value:1},{label:"监督管理机构",value:2},{label:"卫生专业人员",value:3},{label:"药物警戒区域中心",value:4},{label:"世卫组织国际药物监测合作中心",value:5},{label:"其他（例如分销商或其他机构）",value:6},{label:"患者/消费者",value:7}],radio:"1"}},created:function(){this.getList()},methods:{handleCurrentChange:function(e){this.search.pageIndex=e,this.getList()},edit:function(e){this.$router.push({path:"/sender/edit",query:{id:e.id}})},deleteInfo:function(e){var t=this,a={projectId:this.search.projectId,companyId:this.search.companyId,id:e.id};Object(r.j)(a).then(function(e){t.getList()})},searchList:function(){this.getList()},getList:function(){var e=this,t=l()({},this.search);this.loading=!0,Object(r.z)(t).then(function(t){e.tableData=t.body,e.total=t.data.totalCount,e.loading=!1})},changeDefault:function(e){var t=this,a={companyId:this.companyId,projectId:this.projectId,pageSize:10,pageIndex:1,id:e.id,isDefault:1==e.isDefault?2:1};Object(r.f)(a).then(function(e){t.getList()})},showAdd:function(){this.$router.push({path:"/sender/edit"})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("section",[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[a("i",{staticClass:"el-icon-plus"}),e._v("新增")])],1),e._v(" "),a("div",{staticClass:"pre-ipt"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:4}},[a("label",[e._v("发送者标识")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.senderIdentity,callback:function(t){e.$set(e.search,"senderIdentity",t)},expression:"search.senderIdentity"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("label",[e._v("发送者名称")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.senderName,callback:function(t){e.$set(e.search,"senderName",t)},expression:"search.senderName"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("label",[e._v("发送者类型")]),e._v(" "),a("el-select",{attrs:{placeholder:"请输入内容"},model:{value:e.search.senderType,callback:function(t){e.$set(e.search,"senderType",t)},expression:"search.senderType"}},e._l(e.senderType,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("label",[e._v("发送者所属机构")]),e._v(" "),a("el-input",{attrs:{placeholder:"请选择"},model:{value:e.search.senderOrganisation,callback:function(t){e.$set(e.search,"senderOrganisation",t)},expression:"search.senderOrganisation"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchList}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"",icon:"el-icon-refresh"}},[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"40px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"messageSenderIdentifier",label:"发送者标识",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"senderName",label:"发送者姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"senderTypeName",label:"发送者类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"senderOrganisationName",label:"发送者所属机构"}}),e._v(" "),a("el-table-column",{attrs:{prop:"senderDepartment",label:"发送者部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"senderTelephone",label:"发送者电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"是否默认"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"radio"},[2==t.row.isDefault?a("el-button",{attrs:{type:"info"},on:{click:function(a){e.changeDefault(t.row)}}},[e._v("默认")]):e._e(),e._v(" "),1==t.row.isDefault?a("el-button",{attrs:{type:"success"},on:{click:function(a){e.changeDefault(t.row)}}},[e._v("默认")]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[a("span",{on:{click:function(a){e.edit(t.row)}}},[a("i",{staticClass:"el-icon-edit"})])]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top-start"}},[a("span",{on:{click:function(a){e.deleteInfo(t.row)}}},[a("i",{staticClass:"el-icon-delete"})])])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[]};var o=a("VU/8")(s,i,!1,function(e){a("vGCQ")},"data-v-2b3a6264",null);t.default=o.exports},qwbX:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.pre-ipt[data-v-2b3a6264]{\r\n  color: 13px;\r\n  padding: 20px 10px;\r\n  background: #eef1f6;\n}\n.el-input[data-v-2b3a6264]{\r\n  width: 68%;\n}\n.el-select[data-v-2b3a6264]{\r\n  width: 68%;\n}\n.line[data-v-2b3a6264]{\r\n  text-align: center;\n}\n.app-container[data-v-2b3a6264]{\r\n  background: #fff;\n}\n.el-button[data-v-2b3a6264]{\r\n  height: 33px;\r\n  line-height: 33px;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  padding: 0 20px;\r\n  font-size: 13px;\n}\n.radio .el-button[data-v-2b3a6264]{\n}\ni[data-v-2b3a6264]{\r\n  color: #32c5d2!important;\r\n  font-size: 16px;\n}\n.block[data-v-2b3a6264]{\r\n  text-align: center;\r\n  margin-top: 30px;\n}\r\n",""])},vGCQ:function(e,t,a){var n=a("qwbX");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("25d719f0",n,!0)}});