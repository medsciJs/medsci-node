webpackJsonp([25],{YXEu:function(e,r,o){var t=o("yGLw");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o("rjj0")("0c227874",t,!0)},nmiN:function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=o("/t6J"),l={data:function(){return{dialogTableVisible:!1,hidden:!1,isAdd:!0,roleCode:"",ruleForm:{companyId:"",userId:"",projectId:"",id:"string",roleCode:"",roleName:"",roleDisplayName:"",roleBelongs:"",remark:"",createdBy:"string",createdTime:"2018-08-24T07:49:54.196Z",updatedBy:"string",updatedTime:"2018-08-24T07:49:54.196Z"},rules:{roleCode:[{validator:function(e,r,o){""==r?o(new Error("角色编码")):Object(t.f)(r).then(function(e){200!=e.meta.code?o(new Error("角色编码不能重复")):o()})},trigger:"blur",required:!0}],roleName:[{required:!0,message:"请输入角色名称",trigger:"change"}],roleDisplayName:[{required:!0,message:"请输入角色角色展示名",trigger:"change"}],roleBelongs:[{required:!0,message:"请选择私有角色",trigger:"change"}]},getOneMsg:{companyId:"",userId:"",projectId:"",id:""}}},computed:{},mounted:function(){this.ruleForm.companyId=this.getOneMsg.companyId=this.companyId,this.ruleForm.projectId=this.getOneMsg.projectId=this.projectId,this.ruleForm.userId=this.getOneMsg.userId=this.mixinUser.userId},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(o){if(console.log(123,o),!o)return!1;r.isAdd?Object(t.b)(r.ruleForm).then(function(o){200==o.meta.code&&(r.dialogTableVisible=!1,r.$message.success("新建成功"),r.resetForm(e),r.$emit("getList"))}):r.change()})},change:function(){var e=this;Object(t.i)(this.ruleForm).then(function(r){200==r.meta.code&&(e.dialogTableVisible=!1,e.$message.success("编辑成功"),e.$emit("getList"))})},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.emailServerType=""},getMessage:function(){var e=this;this.getOneMsg.id=this.ruleForm.id,Object(t.h)(this.getOneMsg).then(function(r){if(200==r.meta.code){switch(r.body[0].roleBelongs){case 1:r.body[0].roleBelongs="POP3";break;case 3:r.body[0].roleBelongs="Exchange";break;case 2:r.body[0].roleBelongs="IMAP"}e.ruleForm=r.body[0],e.ruleForm.id=e.getOneMsg.id,e.ruleForm.companyId=e.companyId,e.ruleForm.userId=e.mixinUser.userId,e.ruleForm.projectId=e.projectId}})},close:function(e){this.dialogTableVisible=!1,this.resetForm(e)}}},s={render:function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"app-container"},[o("section",[o("el-dialog",{attrs:{title:"新建角色",visible:e.dialogTableVisible},on:{"update:visible":function(r){e.dialogTableVisible=r},close:function(r){e.close("ruleForm")}}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"角色编码",prop:"roleCode"}},[o("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.roleCode,callback:function(r){e.$set(e.ruleForm,"roleCode",r)},expression:"ruleForm.roleCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[o("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.roleName,callback:function(r){e.$set(e.ruleForm,"roleName",r)},expression:"ruleForm.roleName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"角色展示名",prop:"roleDisplayName"}},[o("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.roleDisplayName,callback:function(r){e.$set(e.ruleForm,"roleDisplayName",r)},expression:"ruleForm.roleDisplayName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"私有角色",prop:"roleBelongs"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择私有角色"},model:{value:e.ruleForm.roleBelongs,callback:function(r){e.$set(e.ruleForm,"roleBelongs",r)},expression:"ruleForm.roleBelongs"}},[o("el-option",{attrs:{label:"POP3",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"IMAP",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"Exchange",value:"3"}})],1)],1),e._v(" "),o("el-form-item",{staticClass:"inlineBlock",staticStyle:{width:"100%"},attrs:{label:"备注",prop:"remark"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.ruleForm.remark,callback:function(r){e.$set(e.ruleForm,"remark",r)},expression:"ruleForm.remark"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),o("el-button",{on:{click:function(r){e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"info"},on:{click:function(r){e.close("ruleForm")}}},[e._v("关闭")])],1)],1)],1)],1)])},staticRenderFns:[]};var i=o("VU/8")(l,s,!1,function(e){o("YXEu")},"data-v-1d023dd8",null);r.default=i.exports},yGLw:function(e,r,o){(e.exports=o("FZ+f")(!1)).push([e.i,"",""])}});