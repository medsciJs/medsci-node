webpackJsonp([0],{"/t6J":function(e,t,o){"use strict";t.g=function(e){return Object(r.a)({url:"/api1/sysRoles/getSysRoles",method:"post",data:e})},t.b=function(e){return Object(r.a)({url:"/api1/sysRoles/addSysRoles",method:"post",data:e})},t.h=function(e){return Object(r.a)({url:"/api1/sysRoles/getSysRolesById",method:"post",data:e})},t.i=function(e){return Object(r.a)({url:"/api1/sysRoles/updateSysRoles",method:"post",data:e})},t.c=function(e){return Object(r.a)({url:"/api1/sysRoles/delSysRoles",method:"post",data:e})},t.e=function(e){return Object(r.a)({url:"/api1/user/getUsersIdByRoleId",method:"post",data:e})},t.f=function(e){return Object(r.a)({url:"/api1/sysRoles/getRolesByCode/"+e,method:"get"})},t.d=function(e){return Object(r.a)({url:"/api1/roleMenu/getRoleMenuById",method:"post",data:e})},t.a=function(e){return Object(r.a)({url:"/api1/roleMenu/addRoleMenu",method:"post",data:e})};var r=o("vLgD")},"78du":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("rv7d"),n={data:function(){return{addNode:!1,hidden:!1,id:"",isAdd:!0,next:!1,all:[],ruleForm:{userId:"1",projectId:"1",companyId:"13",roleId:"",nodeChineseName:"",nodeEnglishName:"",nodeSort:"",sortList:[],smsNotification:"",emailNotification:"",ruleDescription:"",remark:""},rules:{nodeChineseName:[{required:!0,message:"请输入流程名称(中)",trigger:"change"}],nodeEnglishName:[{required:!0,message:"请输入流程名称(英文)",trigger:"change"}],roleId:[{required:!0,message:"请选择角色",trigger:"change"}]},rolesList:[]}},computed:{},created:function(){this.ruleForm.companyId=this.companyId,this.ruleForm.projectId=this.projectId,this.ruleForm.userId=this.mixinUser.userId,this.roles()},mounted:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.isAdd?t.add():t.change(),t.dialogTableVisible=!1,t.$emit("getList")})},roles:function(){var e=this;Object(r.g)(1).then(function(t){200==t.meta.code&&(e.rolesList=t.body)})},change:function(){var e=this;this.ruleForm.smsNotification="是"==this.ruleForm.smsNotification?3:4,this.ruleForm.emailNotification="是"==this.ruleForm.emailNotification?1:2,this.ruleForm.userId=this.mixinUser.userId,this.ruleForm.projectId=this.projectId,Object(r.j)(this.ruleForm).then(function(t){200==t.meta.code&&(e.addNode=!1,e.$message.success("保存成功"),e.$emit("getMsg"))})},getOneMsg:function(){var e=this;Object(r.f)({id:this.id}).then(function(t){200==t.meta.code&&(t.body.emailNotification=1==t.body.emailNotification?"是":"否",t.body.smsNotification=3==t.body.smsNotification?"是":"否",e.ruleForm=t.body)})},add:function(){var e=this;this.ruleForm.createdTime="",this.ruleForm.projectId=this.companyId,this.ruleForm.userId=this.mixinUser.userId,this.next&&(this.all.forEach(function(t,o){o>e.ruleForm.nodeSort-1&&t.nodeSort++}),this.ruleForm.nodeSort++,this.ruleForm.sortList=this.all),Object(r.a)(this.ruleForm).then(function(t){200==t.meta.code&&(e.$emit("getMsg"),e.addNode=!1,e.$message.success("新建成功"))})},resetForm:function(e){this.$refs[e].resetFields()},close:function(e){this.addNode=!1,this.resetForm(e)}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("section",[o("el-dialog",{attrs:{title:"新建工作流节点",visible:e.addNode},on:{"update:visible":function(t){e.addNode=t},close:function(t){e.close("ruleForm")}}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"135px"}},[o("el-form-item",{attrs:{label:"流程名称(中文)",prop:"nodeChineseName"}},[o("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.nodeChineseName,callback:function(t){e.$set(e.ruleForm,"nodeChineseName",t)},expression:"ruleForm.nodeChineseName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"流程名称(英文)",prop:"nodeEnglishName"}},[o("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.nodeEnglishName,callback:function(t){e.$set(e.ruleForm,"nodeEnglishName",t)},expression:"ruleForm.nodeEnglishName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否启用短信通知",prop:"smsNotification"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.smsNotification,callback:function(t){e.$set(e.ruleForm,"smsNotification",t)},expression:"ruleForm.smsNotification"}},[o("el-option",{attrs:{label:"是",value:"3"}}),e._v(" "),o("el-option",{attrs:{label:"否",value:"4"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"是否启用Email通知",prop:"emailNotification"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.emailNotification,callback:function(t){e.$set(e.ruleForm,"emailNotification",t)},expression:"ruleForm.emailNotification"}},[o("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"否",value:"2"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"角色",prop:"roleId"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.roleId,callback:function(t){e.$set(e.ruleForm,"roleId",t)},expression:"ruleForm.roleId"}},e._l(e.rolesList,function(e){return o("el-option",{key:e.id,attrs:{value:e.id,label:e.roleName}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"描述",prop:"ruleDescription"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.ruleForm.ruleDescription,callback:function(t){e.$set(e.ruleForm,"ruleDescription",t)},expression:"ruleForm.ruleDescription"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),o("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"info"},on:{click:function(t){e.close("ruleForm")}}},[e._v("关闭")])],1)],1)],1)],1)])},staticRenderFns:[]};var i=o("VU/8")(n,a,!1,function(e){o("eI99")},"data-v-1b42ff3c",null);t.default=i.exports},"8obM":function(e,t,o){"use strict";t.q=function(e){return Object(r.a)({url:e.url,method:"post",data:{}})},t.r=function(e){return Object(r.a)({url:"/api/drugBeforeInformation/GetBeforeDrugList",method:"post",data:e})},t.h=function(e){return Object(r.a)({url:"/api/drugBeforeInformation/DeleteBeforeDrugInformation",method:"post",data:e})},t.m=function(e){return Object(r.a)({url:"/api/drugBeforeInformation/EditBeforeDrugInformation",method:"post",data:e})},t.A=function(e){return Object(r.a)({url:"/api/drugBeforeInformation/GetTaken",method:"post",data:e})},t.s=function(e){return Object(r.a)({url:"/api/dictionaryInformation/GetDrugId",method:"post",data:e})},t.B=function(e,t){return Object(r.a)({url:e,method:"post",data:t})},t.a=function(e){return Object(r.a)({url:"/api/drugBeforeInformation/AddDrugAttachInformation",method:"post",data:e})},t.C=function(e){return Object(r.a)({url:"/api/drugBeforeInformation/GetDrugAttachInformation",method:"post",data:e})},t.e=function(e){return Object(r.a)({url:"/api/drugBeforeInformation/CancelBeforeDrugInformation",method:"post",data:e})},t.u=function(e){return Object(r.a)({url:"/api/drugAfterInformation/GetAfterDrugAdverseReactions",method:"post",data:e})},t.g=function(e){return Object(r.a)({url:"/api/drugAfterInformation/DeleteAfterDrugAdverseReaction",method:"delete",data:e})},t.p=function(e){return Object(r.a)({url:"/api/drugAfterInformation//GetAfterDrugList",method:"post",data:e})},t.c=function(e){return Object(r.a)({url:"/api/drugAfterInformation/AddAfterDrugAdverseReaction",method:"post",data:e})},t.o=function(e){return Object(r.a)({url:"/api/drugAfterInformation/EditAfterDrugAdverseReaction",method:"post",data:e})},t.n=function(e){return Object(r.a)({url:"/api/drugAfterInformation/EditAfterDrugAdverseReactionSave",method:"post",data:e})},t.l=function(e){return Object(r.a)({url:"/api/drugAfterInformation/EditAfterDrugInformation",method:"post",data:e})},t.k=function(e){return Object(r.a)({url:"/api/drugAfterInformation/DownloadDrugAttachInformation",method:"post",data:e})},t.z=function(e){return Object(r.a)({url:"/api/senderInformation/GetSender",method:"post",data:e})},t.y=function(e){return Object(r.a)({url:"/api/senderInformation/GetSenderIdentity",method:"post",data:e})},t.t=function(e){return Object(r.a)({url:"/api/senderInformation/EditSender",method:"post",data:e})},t.f=function(e){return Object(r.a)({url:"/api/senderInformation/DefaultSender",method:"post",data:e})},t.j=function(e){return Object(r.a)({url:"/api/senderInformation/DeleteSender",method:"delete",data:e})},t.x=function(e){return Object(r.a)({url:"/api/receiverInfo/getReceiverToken/"+e.companyLogo,method:"get",data:e})},t.w=function(e){return Object(r.a)({url:"/api/receiverInfo/SelectReceiverData",method:"post",data:e})},t.v=function(e){return Object(r.a)({url:"/api/receiverInfo/EditReceiverData",method:"post",data:e})},t.i=function(e){return Object(r.a)({url:"/api/receiverInfo/DeleteReceiverData",method:"delete",data:e})},t.d=function(e){return Object(r.a)({url:"/api/receiverInfo/AddReceiverData",method:"post",data:e})},t.b=function(e){return Object(r.a)({url:"/api/receiverInfo/EditReceiverDataSave",method:"post",data:e})};var r=o("vLgD")},P7dY:function(e,t,o){"use strict";t.a=function(e){return Object(r.a)({url:"/api/projectInformation/GetProjectInfo",method:"get",params:e})},t.c=function(e){return Object(r.a)({url:"/api/projectInformation/EditProjectInfoSave",method:"post",data:e})},t.b=function(e){return Object(r.a)({url:"/api/dictionaryInformation/GetDictionaryInfoList",method:"post",data:e})};var r=o("vLgD")},Vvaa:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.el-select[data-v-1b42ff3c] {\n  width: 100%;\n}\n",""])},eI99:function(e,t,o){var r=o("Vvaa");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("0843a83a",r,!0)},is1l:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o("IcnI"),n={methods:{changeValue2:function(e){this[e.dom]=e.resvalue}},computed:{companyId:function(){return r.a.getters.companyId},projectId:function(){return r.a.getters.currProject.projectId},mixinUser:function(){return r.a.getters.userInfo}}}},rv7d:function(e,t,o){"use strict";t.i=function(e){return Object(r.a)({url:"/api1/workFlow/getWorkFlows",method:"post",data:e})},t.b=function(e){return Object(r.a)({url:"/api1/workFlow/addWorkFlow",method:"post",data:e})},t.d=function(e){return Object(r.a)({url:"/api1/workFlow/delWorkFlow",method:"post",data:e})},t.e=function(e){return Object(r.a)({url:"/api1/workFlow/doWorkFlow",method:"post",data:e})},t.k=function(e){return Object(r.a)({url:"/api1/workFlow/updWorkFlow",method:"post",data:e})},t.h=function(e){return Object(r.a)({url:"/api1/workFlowNode/getWFNodes",method:"post",data:e})},t.j=function(e){return Object(r.a)({url:"/api1/workFlowNode/updWFNode",method:"post",data:e})},t.a=function(e){return Object(r.a)({url:"/api1/workFlowNode/addWFNode",method:"post",data:e})},t.c=function(e){return Object(r.a)({url:"/api1/workFlowNode/delWFNode",method:"post",data:e})},t.g=function(e){return Object(r.a)({url:"/api1/sysRoles/getRolesByRoleBelongs/"+e,method:"get"})},t.f=function(e){return Object(r.a)({url:"/api1/workFlowNode/getNodeInfoById",method:"get",params:e})};var r=o("vLgD")}});