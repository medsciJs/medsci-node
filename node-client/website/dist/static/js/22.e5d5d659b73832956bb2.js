webpackJsonp([22],{"0DFI":function(e,t,r){var a=r("VfKr");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("rjj0")("33cad084",a,!0)},VfKr:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"\n.el-form-item[data-v-4530c0c1] {\n  display: inline-block;\n  width: 49%;\n}\n.mL[data-v-4530c0c1] {\n  margin-left: 1%;\n}\n.el-select[data-v-4530c0c1] {\n  width: 100%;\n}\n",""])},qvDM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("woOf"),s=r.n(a),l=r("mvHQ"),o=r.n(l),i=r("P7dY"),c={data:function(){return{ruleForm:{projectCode:"",researchName:"",studyDrug:"",bidId:"",researchType:"",researchTypeSubdivision:"",indication:"",researchComments:"",startTime:"",endTime:"",productClassification:"",registrationClassification:"",companyId:"",projectId:""},arr:[],notFold:!0,tableData:[],multipleSelection:[],design:[],rules:{projectCode:[{required:!0,message:"请输入项目编号",trigger:"change"}],researchName:[{required:!0,message:"请输入研究方案名称",trigger:"change"}]},sponsor:[],research:[],bids:[],search:{companyId:"",projectId:"",pageIndex:0,pageSize:10,dictionaryType:""},options:[{dictDisplayChinese:"临床研究分类",dictDisplayEnglish:"cr",dictRealValues:"1"},{dictDisplayChinese:"临床研究分类",dictDisplayEnglish:"cr",dictRealValues:"1"},{dictDisplayChinese:"临床研究分类",dictDisplayEnglish:"cr",dictRealValues:"1"}],subdivision:[],categories:[],classification:[]}},created:function(){this.ruleForm.companyId=this.search.companyId=this.companyId,this.ruleForm.projectId=this.search.projectId=this.projectId,this.getMsg(),this.getTypeMessage("sponsor"),this.getTypeMessage("clinical-research"),this.getTypeMessage("research-subdivision"),this.getTypeMessage("research-design"),this.getTypeMessage("product-categories"),this.getTypeMessage("registration-classification")},mounted:function(){},methods:{getMsg:function(){var e=this;Object(i.a)({projectId:13}).then(function(t){e.ruleForm.projectCode=t.body.projectCode,e.ruleForm.researchName=t.body.researchName,t.body.projectDrugInfoList.forEach(function(e){e.drugType=1==e.drugType?"前":"后"}),e.tableData=t.body.projectDrugInfoList})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(i.c)(t.ruleForm).then(function(e){200==e.meta.code&&t.$message.success("保存成功")})})},handleSelectionChange:function(e){var t=this;this.multipleSelection=e,e.forEach(function(e){t.arr.push(e.drugId)}),this.ruleForm.projectDrugIds=o()(this.arr)},getTypeMessage:function(e){var t=this;this.search.dictionaryType=e;var r=s()({},this.search);Object(i.b)(r).then(function(r){switch(e){case"sponsor":t.sponsor=r.body;break;case"clinical-research":t.research=r.body;break;case"research-design":t.design=r.body;break;case"research-subdivision":t.subdivision=r.body;break;case"product-categories":t.categories=r.body;break;case"registration-classification":t.classification=r.body}})}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("section",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px","label-position":"top"}},[r("el-form-item",{attrs:{label:"项目编号",prop:"projectCode"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.projectCode,callback:function(t){e.$set(e.ruleForm,"projectCode",t)},expression:"ruleForm.projectCode"}})],1),e._v(" "),r("el-form-item",{staticClass:"mL",attrs:{label:"研究方案名称",prop:"researchName"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.researchName,callback:function(t){e.$set(e.ruleForm,"researchName",t)},expression:"ruleForm.researchName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"其他研究用药",prop:"studyDrug "}},[r("el-input",{model:{value:e.ruleForm.studyDrug,callback:function(t){e.$set(e.ruleForm,"studyDrug ",t)},expression:"ruleForm.studyDrug "}})],1),e._v(" "),r("el-form-item",{staticClass:"mL",attrs:{label:"申办方",prop:"sponsor"}},[r("el-select",{attrs:{placeholder:"请选择申办方"},model:{value:e.ruleForm.sponsor,callback:function(t){e.$set(e.ruleForm,"sponsor",t)},expression:"ruleForm.sponsor"}},e._l(e.sponsor,function(e,t){return r("el-option",{key:t,attrs:{label:e.dictDisplayChinese,value:e.dictRealValues}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"临床研究分类",prop:"researchType"}},[r("el-select",{attrs:{placeholder:"请选择临床研究"},model:{value:e.ruleForm.researchType,callback:function(t){e.$set(e.ruleForm,"researchType",t)},expression:"ruleForm.researchType"}},e._l(e.research,function(e,t){return r("el-option",{key:t,attrs:{label:e.dictDisplayChinese,value:e.dictRealValues}})}))],1),e._v(" "),r("el-form-item",{staticClass:"mL",attrs:{label:"研究类型细分",prop:"researchTypeSubdivision"}},[r("el-select",{attrs:{placeholder:"请选择研究类型细分"},model:{value:e.ruleForm.researchTypeSubdivision,callback:function(t){e.$set(e.ruleForm,"researchTypeSubdivision",t)},expression:"ruleForm.researchTypeSubdivision"}},e._l(e.subdivision,function(e,t){return r("el-option",{key:t,attrs:{label:e.dictDisplayChinese,value:e.dictRealValues}})}))],1),e._v(" "),r("el-form-item",{staticStyle:{display:"block",width:"100%"},attrs:{label:"临床实验适应症",prop:"indication"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.ruleForm.indication,callback:function(t){e.$set(e.ruleForm,"indication",t)},expression:"ruleForm.indication"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"新药临床研究批准文号",prop:"researchComments"}},[r("el-input",{model:{value:e.ruleForm.researchComments,callback:function(t){e.$set(e.ruleForm,"researchComments",t)},expression:"ruleForm.researchComments"}})],1),e._v(" "),r("el-form-item",{staticClass:"mL",attrs:{label:"研究设计",prop:"researchDesign"}},[r("el-select",{attrs:{placeholder:"请选择研究设计"},model:{value:e.ruleForm.researchDesign,callback:function(t){e.$set(e.ruleForm,"researchDesign",t)},expression:"ruleForm.researchDesign"}},e._l(e.design,function(e,t){return r("el-option",{key:t,attrs:{label:e.dictDisplayChinese,value:e.dictRealValues}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"开始日期",prop:"startTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择开始日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.startTime,callback:function(t){e.$set(e.ruleForm,"startTime",t)},expression:"ruleForm.startTime"}})],1),e._v(" "),r("el-form-item",{staticClass:"mL",attrs:{label:"结束日期",prop:"endTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择结束日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.endtTime,callback:function(t){e.$set(e.ruleForm,"endtTime",t)},expression:"ruleForm.endtTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"productClassification"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.productClassification,callback:function(t){e.$set(e.ruleForm,"productClassification",t)},expression:"ruleForm.productClassification"}},e._l(e.categories,function(e,t){return r("el-option",{key:t,attrs:{label:e.dictDisplayChinese,value:e.dictRealValues}})}))],1),e._v(" "),r("el-form-item",{staticClass:"mL",attrs:{label:"注册分类",prop:"registrationClassification"}},[r("el-select",{attrs:{placeholder:"请选择注册分类"},model:{value:e.ruleForm.registrationClassification,callback:function(t){e.$set(e.ruleForm,"registrationClassification",t)},expression:"ruleForm.registrationClassification"}},e._l(e.classification,function(e,t){return r("el-option",{key:t,attrs:{label:e.dictDisplayChinese,value:e.dictRealValues}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"name"}},[r("h4",{staticStyle:{color:"#67C23A"}},[e._v("药物名称")])]),e._v(" "),r("el-form-item",{staticStyle:{display:"block",width:"100%"},attrs:{label:"",prop:"projectDrugIds"}},[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{label:"上市前/后",width:"120",prop:"drugType"}}),e._v(" "),r("el-table-column",{attrs:{prop:"drugGenericStandardName",label:"通用名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"drugProductZhName",label:"商品名称","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"drugApprovalNumber",label:"批准文号","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"drugFormulation",label:"剂型","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"drugSpecification",label:"规格","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"drugSpecification",label:"活性成分","show-overflow-tooltip":""}})],1)],1),e._v(" "),r("el-form-item",{staticStyle:{"text-align":"center",display:"block",width:"100%"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)])},staticRenderFns:[]};var u=r("VU/8")(c,n,!1,function(e){r("0DFI")},"data-v-4530c0c1",null);t.default=u.exports}});